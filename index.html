<!DOCTYPE html>
<html>
<head>
  <title>Encrypted API Call</title>
  <script src="https://ngrok-here.com"></script>
</head>
<body>
  <h2>Send Encrypted Message</h2>
  <input id="msg" placeholder="Enter secret" />
  <button onclick="sendEncrypted()">Send</button>

  <script>
    // Secret key and IV - for demo only! Change for production.
    const key = CryptoJS.enc.Utf8.parse('12345678901234567890123456789012');
    const iv = CryptoJS.enc.Utf8.parse('1234567890123456');

    function encrypt(text) {
      return CryptoJS.AES.encrypt(text, key, { iv: iv }).toString();
    }

    function sendEncrypted() {
      const plaintext = document.getElementById('msg').value;
      const ciphertext = encrypt(plaintext);

      fetch('https://YOUR_NGROK_URL.ngrok.io/endpoint', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ data: ciphertext })
      }).then(res => res.text())
        .then(txt => alert('Server response: ' + txt))
        .catch(err => alert('Error: ' + err));
    }

    // Basic obfuscation - minify or use https://obfuscator.io/ for production
  </script>
</body>
</html>
